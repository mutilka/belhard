<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">


</head>
<body>

    <div id="cards"></div>
    
    <!-- <div id="cards">
        <div class="card">

            <div class="title5">
                <div class="fl"><img src="images/card.jpg" alt="Тайная жизнь домашних животных 2"></div>
                <div class="stock"><img src="images/stock.png" alt="Акция"></div>
            </div>


            <div class="title1">
                <div>Тайная жизнь</div>
                <div>домашних животных 2</div>
            </div>


            <div class="title2">
                <div>14,00 руб.</div>
                <div>17,00 руб.</div>
            </div>

            <div class="title3">
                <span class="material-icons">star</span>
                <span class="material-icons">star</span>
                <span class="material-icons">star</span>
                <span class="material-icons">star_half</span>
                <span class="material-icons">star_border</span>
            </div>

            <div class="title4">
                <img src="images/button.jpg" alt="">
            </div>


        </div>

    </div> -->

    <script>


        
        card = {

            cardName1: ["Тайная жизнь", "История игрушек 4", "Фердинанд"],
            cardName2: ["домашних животных 2", "Приключения Вилкинса", "Побег из коровника"],
            cost: [17, 60, 40],
            currency: "руб.",
            file: ["pets.jpg", "ferd.jpg", "toy4.jpg"],
            type: "type.png",
            sales: true,
            rating: 4,
            but: "order.jpg"

        }

        // Полная стоимость

        // let fullCost = `${card.cost[1]},00 ${card.currency}`;
        // alert(fullCost);

        function fc(k) {
            let fullCost = '';
            fullCost = `${card.cost[k]},00 ${card.currency}`;
            return fullCost;
        }

        // Стоимость со скидкой

        // let cost1 = 0;
        // cost1 = card.cost*.9; // округлить правильно!! С остатком!!
        // let saleCost = `${Math.floor(cost1)},00 ${card.currency}`;
        // // alert(saleCost);

        // Округляем до 2-х знаков и меняем "." на ","
        // let cost1 = 0;
        // cost1 = card.cost[1]*.9;
        // let saleCost = `${cost1.toFixed(2).replace('.', ',')} ${card.currency}`;
        // alert(saleCost);

        // Функция подсчета цены со скидкой

        function sc(k) {
            let saleCost = '';
            let cost1 = '';
            cost1 = card.cost[k]*.9;
            saleCost = `${cost1.toFixed(2).replace('.', ',')} ${card.currency}`;
            if (card.sales == false) {
                noCost = '';
            } else noCost = `<div>${saleCost}</div>`;
            return noCost;
        }

                // Вывод цены со скидкой
            // if (card.sales == false) {
            //     noCost = '';
            // } else noCost = `<div>${saleCost}</div>`;





        // Расчет рейтинга

        let st = '';

            for (i=1; i<=card.rating; i++) {
             st += '<span class="material-icons">star</span>'; 
            }

            st += '<span class="material-icons">star_border</span>';

            // alert(st);


        //  Вывод итоговой строки

        let s = '';
        for (i=1; i<=card.file.length; i++) {
        s += `

        <div class="card">


                <div class="fl">
                <img src="images/${card.file[i-1]}">
                
                <img src="images/sales.png">
                <img src="images/type.png">
            
            </div>


            <div class="title1">
                <div>${card.cardName1[i-1]}</div>
                <div>${card.cardName2[i-1]}</div>
            </div>


            <div class="title2">
                ${sc(i-1)}
                <div>${fc(i-1)}</div>
            </div>

            <div class="title3">
                ${st}
            </div>

            <div class="title4">
                <img src="images/${card.but}" alt="">
            </div>


        </div>

    `
        }

        cards.innerHTML = s;

   // Отображение картинки "Акция" после формирования финальной строки
        if (card.sales == true) {
            document.images[1].style.visibility = 'visible';
        }

    </script>


</body>
</html>